<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0' />
<title>11. АДАПТИВНЫЕ КАРТИНКИ</title>
<!-- <link rel="stylesheet" href="../css/style.css"> -->
<link rel="stylesheet" href="style-iih.css">
</head>

<body>
<!--
<div class="page">
<div class="blur"></div>
<header class="header" id='header'> -->
<header>
</header>
<!--
<section class="main">
<div class="container"> -->
<h1><a href="/" title="RUS EDITION of Interneting is Hard">HTML & CSS IS HARD - НА РУССКОМ</a></h1>
<h2>АДАПТИВНЫЕ КАРТИНКИ</h2>
<div class="chapter">УРОК Nº 11.</div>
<p><em>
    Адаптивные изображения - это сложно. Точнее, очень сложно. Но не пугайтесь.
</em></p>


<p>
    На уроке <a href="iih10-responsive-design.html">адаптивный дизайн</a> мы узнали,
		как использовать медиавыражения для создания версий для смартфонов,
		планшетов и настольных ПК.
		Теперь настала очередь картинок.
		Точно так же, как медиавыражения позволяют нам условно представлять различные
		правила CSS, мы хотим отображать различные изображения в зависимости от устройства
		пользователя.
</p>

<figure>
<img class="pic-pages" src="./images/iih11-01-responsive-images-overview-890631.fd4f8299.png"
width="70%" alt="Interneting is hard HTML+CSS">
<figcaption><small>
    Скриншот 1: низкопиксельное изображение, передаваемое на ноутбук/ПК со стандартным
		экраном и мобильные устройства, в сравнении с высокопиксельным изображением,
		передаваемым на ноутбуки/ПК с ретина-экраном
</small></figcaption>
</figure>

<p>
    Проблема в том, что изображения имеют свои размеры.
		Мы не можем растянуть фотографию размером 500×250 пикселей до размера,
		превышающего 500 пикселей в ширину, потому что она будет расплываться.
		Дисплеи Retina и мобильные устройства усложняют ситуацию еще более.
		Чтобы сделать наши изображения адаптивными, мы должны учитывать три фактора:
</p><ul>
<li>Размеры устройства</li>
<li>Размеры изображения</li>
<li>Разрешение экрана устройства.</li>
</ul><p>
    Это будет сложнее, чем медиавыражения, которые учитывали только ширину устройства.
		Но не волнуйтесь, существуют стандартные способы решения всех этих проблем,
		и мы пройдемся по ним шаг за шагом.
</p>

<div class="title">подготовка<br>setup</div>

<p>
    Для экспериментов с адаптивными изображениями, нам нужен адаптивный
		веб-сайт для работы.
		На этом уроке мы рассмотрим пример веб-страницы, которую мы создали в <a href="iih10-responsive-design.html">
		предыдущей главе</a>.
		Мы добавим на страницу две картинки, чтобы она выглядела как на скриншоте ниже.
		Эта подготовка может показаться слишком простой, зато эти картинки будут
		меняться в зависимости от устройства пользователя (что <em>реально</em> круто).
</p>

<figure>
<img class="pic-pages" src="./images/iih11-02-site-with-responsive-images-1f0431.a7c6150b.png"
width="30%" alt="Interneting is hard HTML+CSS">
<figcaption><small>
    Скриншот 2: веб-страница с большой фотографией в заголовке и линейной
		иллюстрацией в контенте
</small></figcaption>
</figure>

<p>
    Если вы продолжаете работу с предыдущего урока, вам просто нужно <a href="docs/iih11-responsive-images-5e8a2c.zip">
		скачать эти изображения</a> и добавить их в папку images/ вашего проекта.
</p><p>
    Если вы только присоединились к нам, скачайте <a href="docs/iih11-example-7be588.zip">
		полный пример проекта</a>, распакуйте его и откройте с помощью Atom.
		Если вы не знакомы с текстовым редактором Atom, обязательно прочитайте <a href="iih01-intro.html#atom">
		введение</a> к этому учебнику.
</p>

<figure>
<img class="pic-pages" src="./images/iih11-03-project-files-d6d457.1e68de40.png"
width="30%" alt="Interneting is hard HTML+CSS">
<figcaption><small>
    Скриншот 3: файловый браузер Atom после распаковки проекта
</small></figcaption>
</figure>

<p>
    В итоге файлы вашего проекта должны выглядеть как на скриншоте выше.
		Обратите внимание, что у нас есть несколько копий изображений PNG и JPG
		(например, illustration-big.png и illustration-small.png).
		Мы будем позволять браузеру выбирать, какое из них загружать, в зависимости
		от размера и разрешения экрана устройства.
</p>

<div class="title">ретина-экраны<br>retina screens</div>
<p>
    Раз уж речь пошла о "ретиновых" устройствах, давайте немного поговорим о
		разрешении экрана.
		Ретина-экраны имеют в два раза больше пикселей на дюйм, чем экраны стандартного
		разрешения.
		То есть каждый пиксель Retina эквивалентен 4 стандартным пикселям.
		Это сильно влияет на то, как изображения отображаются в веб-браузере.
</p>

<figure>
<img class="pic-pages" src="./images/iih11-04-standard-vs-retina-resolution-64f6b6.472e6170.png"
width="50%" alt="Interneting is hard HTML+CSS">
<figcaption><small>
    Скриншот 4: экран стандартного разрешения с 4 пикселями и экран высокого
		разрешения (retina resolution) с 16 пикселями
</small></figcaption>
</figure>

<p>
    Для корректного отображения картинки на ретина-устройстве, она должна
		быть в два раза больше, чем ее конечные размеры на экране.
		Например, при добавлении на страницу картинки 500×250 пикселей, соответствующий
		файл картинки должен иметь размер 1000×500 пикселей.
</p>

<figure>
<img class="pic-pages" src="./images/iih10-05-retina-2x-image-dimensions-5a4673.878707e3.png"
width="70%" alt="Interneting is hard HTML+CSS">
<figcaption><small>
    Скриншот 5:  картинка высокого разрешения, уменьшенная до половины размера
		на ретина-экране
</small></figcaption>
</figure>

<p>
    На самом деле это некоторое упрощение - не все ретина-экраны созданы одинаковыми.
		Например, у iPhone 6 Plus в <em>три раза</em> больше пикселей на дюйм, чем
		у стандартного экрана.
		Здесь мы рассматриваем использование экрана 2x, но те же приемы применимы и
		к ретина-экранам 3x.
</p><p>
    Более того, стандартным дисплеям и небольшим устройствам не нужны все эти
		дополнительные пиксели в изображениях высокого разрешения, а отправка такого
		количества ненужных данных обычно приводит к недовольству пользователя.
</p>

<div class="title">адаптивные svg-изображения<br>responsive svg images</div>
<p>
    Самый простой способ решить все эти проблемы - использовать картинки <a href="iih03-links-and-images.html#svg-images">
		формата SVG</a>.
		Картинки этого формата "работают на пятерочку".
		Поскольку они векторные, SVG-картинки позволяют избежать проблемы разрешения
		экрана (см. ниже).
		Хотите узнать, как добавить картинку на нашу страницу responsive.html?
		Замените существующую картинку в div .content так, чтобы она соответствовала
		следующему:
</p><p class="code">
<span class="code-blue">&lt;div class=</span><span class="code-rust">'section content'</span><span class="code-blue">&gt;</span><br>
<span class="code-blue">&lt;img class=</span><span class="code-rust">'illustration'</span> <span class="code-blue">src=</span><span class="code-rust">'images/illustration.svg'</span> <span class="code-blue"> /&gt;</span><br>
<span class="code-blue">&lt;/div&gt;</span>
</p><p>
    Браузеры автоматически масштабируют SVG для ретина-устройств, поэтому SVG 500×250
		пикселей будет четко отображаться и на стандартных и на ретина-устройствах.
</p><p>
    SVG поможет забыть о проблемах с разрешением экрана, но чтобы картинка вписалась
		в жидкие макеты [fluid layouts] для планшетов и смартфонов, ее нужно уменьшить.
		Firefox сделает это автоматически, но если вы откроете эту страницу в Chrome
		и сделаете окно узким, вы увидите, что картинка осталось того же размера.
</p><p>
    Чтобы получить жидкое изображение в Chrome, нужно приказать картинке
		всегда заполнять ширину своего контейнера.
		В styles.css вместе с остальными базовыми стилями (вне медиавыражений!)
		поместите следующее правило:
</p><p class="code">
<span class="code-blue">.illustration</span> {<br>
<span class="code-green">width</span>: 100%;<br>
}
</p><p>
    Задавая ширину картинки 100 %, высота задается автоматически.
	  Предполагается, что мы хотим сохранить соотношение сторон.
		Это исправляет ситуацию с мобильным макетом, но теперь версия для ноутбуков/ПК
		становится <em>огромной</em>:
</p>

<figure>
<img class="pic-pages" src="./images/iih10-06-responsive-svg-image-bfa291.61196938.png"
width="70%" alt="Interneting is hard HTML+CSS">
<figcaption><small>
    Скриншот 6: SVG-картинка уменьшается до ширины смартфонов и планшетов, но
		становится огромной на ноутбуках/ПК
</small></figcaption>
</figure>

<p>
    Такое поведение идеально для некоторых случаев дизайна, например для фото на
		всю ширину экрана (об этом чуть ниже).
		Сейчас же мы хотим ограничить ширину картинки до ее собственной, - в 500 пикселей.
		В этом нам поможет <a href="iih04-hello-css.html#inline-styles">встроенный стиль</a>:
</p><p class="code">
<span class="code-blue">&lt;div class=</span><span class="code-rust">'section content'</span><span class="code-blue">&gt;</span><br>
<span class="code-blue">&lt;img class=</span><span class="code-rust">'illustration'</span> <span class="code-blue">src=</span><span class="code-rust">'images/illustration.svg'</span>
<span class="code-blue">style=</span><span class="code-rust">'max-width: 500px'</span><span class="code-blue"> /&gt;</span><br>
<span class="code-blue">&lt;/div&gt;</span>
</p><p>
    Это один из редких случаев, когда встроенный стиль допустим, поскольку он
		описывает врожденное свойство изображения.
		Физические размеры изображения - это скорее контент, чем внешний вид, поэтому
		имеет смысл указывать их в HTML, а не в таблице стилей.
</p>

<figure>
<img class="pic-pages" src="./images/iih11-07-max-width-inline-style-073cc7.94921eae.png"
width="33%" alt="Interneting is hard HTML+CSS">
<figcaption><small>
    Скриншот 7: добавление встроенного стиля для ограничения размера SVG-изображения
</small></figcaption>
</figure>

<div class="title">адаптивные PNG, GIF, JPG<br>responsive png, gif, and
jpg images</div>
<p>
    Конечно, не все изображения в Интернете являются SVG.
		Иногда необходимо включить фотографию.
		Картинки PNG, GIF и JPG - это "растровые изображения", они определяются попиксельно,
		а не с помощью векторов.
		Поэтому они гораздо более чувствительны к разрешению экрана, чем SVG.
</p><p>
    Если вы не беспокоитесь об оптимизации, адаптивные растровые изображения
		действительно ненамного сложнее, чем SVG.
		Попробуйте заменить наш существующий файл illustration.svg на PNG-файл:
</p><p class="code">
<span class="code-blue">&lt;div class=</span><span class="code-rust">'section content'</span><span class="code-blue">&gt;</span><br>
<span class="code-blue">&lt;img class=</span><span class="code-rust">'illustration'</span> <span class="code-blue">/&gt;</span><br>
<span class="code-blue">&lt;img src=</span><span class="code-rust">'images/illustration-big.png'</span> <span class="code-blue">style=</span><span class="code-rust">'max-width: 500px'</span><span class="code-blue"> /&gt;</span><br>
<span class="code-blue">&lt;/div&gt;</span><br>
<span class="code-blue">&lt;/div&gt;</span>
</p><p>
    Мы немного изменили структуру HTML, вложив наш тег &lt;img/&gt; в другой контейнер.
		Без него изображение исказилось бы, потому что flexbox попытался бы установить
		его высоту равной высоте контейнера .content.
		Это также требует небольшого изменения нашего CSS-правила .illustration:
</p><p class="code">
<span class="code-blue">.illustration</span> <span class="code-strong">img</span> {<br>
<span class="code-green">width</span>: 100%;<br>
<span class="code-green">display</span>: block;<br>
}
</p><p>
    Также обратите внимание на суффикс -big в имени файла изображения.
		Это версия PNG с высоким разрешением и размером 1000×500.
		Ретина-устройствам для четкого отображегния необходим такой размер "2x".
		Изображение с низким разрешением (500×250 пикселей) выглядит хорошо на
		стандартных экранах, а на ретина-экранах будет размытым.
</p>

<figure>
<img class="pic-pages" src="./images/iih11-08-retina-responsive-images-9f367b.c8725ab5.png"
width="60%" alt="Interneting is hard HTML+CSS">
<figcaption><small>
    Скриншот 8: подача картинки высокого разрешения на стандартные и на
		ретина-экраны (последнее расточительно)
</small></figcaption>
</figure>

<p>
    Данный способ создания адаптивных PNG, GIF и JPG можно назвать "лентяйским".
		Предполагается, что всем и всегда нужны высокопиксельные картинки.
		Но это не так.
		Картинка 1000×500 пикселей - это излишество для всех не ретиновых
		экранов.
		Об этом -  чуть ниже.
</p>

<div class="title">Оптимизация адаптивных изображений<br>responsive image optimization</div>
<p>
    Разные устройства предъявляют разные требования к изображениям.
		К счастью, HTML позволяет выбрать лучшее изображение для конкретного устройства
		пользователя.
		В следующих нескольких секциях мы рассмотрим три сценария оптимизации
		адаптивных изображений:
</p><ul>
<li>Экраны стандартного разрешения, которым не нужна картинка ретина-качества.</li>
<li>Retina-экраны, которые могут использовать картинки стандартного качества,
	  поскольку они сильно уменьшены.</li>
<li>HTML-макеты для ноутбуков/ПК, использующие широкие изображения, и соответствующие
	  мобильные макеты, использующие более высокое изображение.</li>
</ul><p>
    Первый способ - самый простой.
		Он отлично подходит для изображений шириной менее 600 пикселей, поскольку они
		недостаточно велики, чтобы воспользоваться вторым сценарием.
		Второй способ - очень важная оптимизация для больших изображений, особенно
		для полноцветных фотографий.
		Третий - для тех случаев, когда вы чувствуете себя крутым.
</p>

<div class="title">оптимизация srcset для ретина-экранов<br>retina optimization using srcset</div>
<p>
    Изображения высокого разрешения очень большие.
		Наш illustration-big.png занимает более чем в два раза больше места на
		диске, чем его аналог с низким разрешением.
		Нет смысла пересылать все эти дополнительные данные, если они фактически не
		нужны пользователю.
</p><p>
    Благодаря атрибуту srcset, добавленного к элементу &lt;img/&gt;, изображение
		с высоким разрешением будет подаваться <em>только</em> на ретина-экраны, а
		на обычные экраны будет подаваться версия с низким разрешением.
		Обновите элемент .illustration следующим образом:
</p><p class="code">
<span class="code-blue">&lt;div class=</span><span class="code-rust">'illustration'</span><span class="code-blue">&gt;</span><br>
<span class="code-blue">&lt;img src=</span><span class="code-rust">'illustration-small.png'<br>
<span class="code-blue">srcset=</span><span class="code-rust">'images/illustration-small.png 1x,<br>
images/illustration-big.png 2x'</span><br>
<span class="code-blue">style=</span><span class="code-rust">'max-width: 500px'</span><span class="code-blue"> /&gt;</span><br>
<span class="code-blue">&lt;/div&gt;</span>
</p><p>
    Атрибут srcset указывает на список альтернативных файлов изображений, а также
		свойства, определяющие, когда браузер должен использовать каждый из них.
		Значение 1x велит браузеру отображать illustration-small.png на обычных
		экранах, а 2x - отображать illustration-big.png на ретина-экранах.
		Старые браузеры, не понимающие srcset, возвращаются к атрибуту src.
</p>

<figure>
<img class="pic-pages" src="./images/iih11-09-retina-responsive-images-with-srcset-707397.0268e785.png"
width="60%" alt="Interneting is hard HTML+CSS">
<figcaption><small>
    Скриншот 9: подача изображения с низким разрешением на стандартный экран и
		с высоким разрешением на ретина-экраны
</small></figcaption>
</figure>

<p>
    Обычно версии изображения с низким и высоким разрешением абсолютно одинаковы
		(за исключением их размеров), но мы сделали illustration-small.png желтым,
		чтобы вы могли легко отличить его от версии для ретина-экрана, которая имеет
		синий цвет.
</p><p>
    Увидеть это в действии без реального сайта немного сложно, поэтому мы включили
		предыдущий фрагмент кода на эту страницу.
		Картинка ниже должна быть синей, если вы просматриваете ее на ретина-экране.
		А вот на экранах стандартного разрешения она будет желтой.
</p>

<figure>
<img class="pic-pages" src="./images/iih11-10-illustration-small.9eefc3cd.png"
alt="Interneting is hard HTML+CSS">
<figcaption><small>
    Скриншот 10: [если цвет желтый, то у вас экран стандартного разрешения.
		А если синий - то ретина-экран]
</small></figcaption>
</figure>

<p>
    Если вы создаете эти примеры на компьютере с ретина-экраном, можно попробовать
		временно изменить 2x на 1x, чтобы посмотреть, как выглядит изображение без
		ретина-экрана.
		Оно будет немного размытым (и желтым).
</p>

<div class="title">оптимизация ширины экрана с помощью srcset<br>screen width optimization using srcset</div>

<p>
    Класс!
		Можно сэкономить несколько байтов для устройств без ретина.
		К сожалению техника srcset упускает важный момент с большими картинками:
		если у пользователя смартфон с ретина-экраном, загрузится
		высокопиксельная картинка, даже когда обычной будет достаточно.
</p>

<figure>
<img class="pic-pages" src="./images/iih11-11-screen-width-optimization-with-srcset-6dd918.4e6d2a3c.png"
width="70%" alt="Interneting is hard HTML+CSS">
<figcaption><small>
    Скриншот 11: низкопиксельная картинка, отправляемая на ноутбуки/ПК и мобильные
		устройства со стандартным экраном, в сравнении с низкопиксельной картинкой,
		отправляемой на ноутбуки/ПК с ретина-экраном
</small></figcaption>
</figure>

<p>
    Представьте, что в .header мы хотим отобразить большую фотографию.
		Ширина заголовка в нашем макете для ноутбуков/ПК - 960 пикселей.
		Тогда для хорошего отображения на ретина-экранах ширина фото должна быть не менее
		1920 пикселей.
		Для стандартных экранов мы также предоставим фотографию шириной 960 пикселей.
		Теперь рассмотрим смартфон с ретина-экраном.
		Смартфоны обычно имеют ширину менее 400 пикселей в портретном режиме.
		Тогда ширина соответствующего фото с качеством "ретина" должна быть
		всего 800 пикселей.
</p><p>
    Ого!
		Мы можем использовать фото стандартного разрешения на смартфонах с ретина-экраном!
</p><p>
    Отсюда следует вывод: оптимизировать большие изображения нужно исходя из их
		конечных размеров, а не только из разрешения экрана устройства.
		Давайте добавим это большое фото в наш элемент .header:
</p><p class="code">
<span class="code-blue">&lt;div class=</span><span class="code-rust">'section header'</span><span class="code-blue">&gt;</span><br>
<span class="code-blue">&lt;div class=</span><span class="code-rust">'photo'</span><span class="code-blue">&gt;</span><br>
<span class="code-blue">&lt;img src=</span><span class="code-rust">'images/photo-small.jpg'</span><br>
<span class="code-blue">srcset=</span><span class="code-rust">'images/photo-big.jpg 2000w,<br>
images/photo-small.jpg 1000w'<br>
<span class="code-blue">sizes=</span><span class="code-rust">'(min-width: 960px) 960px,<br>
100vw'</span><span class="code-blue">/&gt;</span><br>
<span class="code-blue">&lt;/div&gt;</span><br>
<span class="code-blue">&lt;/div&gt;</span>
</p><p>
    У нас тот же элемент srcset, что и в предыдущем разделе, но вместо дескрипторов
		1x и 2x мы указываем физическую ширину картинки.
		2000w говорит браузеру, что photo-big.jpg имеет ширину 2000 пикселей.
		Аналогично, 1000w означает, что ширина photo-small.jpg равна 1000 пикселям.
		Символ w это специальная единица, используемая только для такого рода сценариев
		оптимизации изображений.
</p>

<figure>
<img class="pic-pages" src="./images/iih11-12-img-srcset-physical-width-2153b0.fee137d6.png"
width="70%" alt="Interneting is hard HTML+CSS">
<figcaption><small>
    Скриншот 12: srcset=1000w - ширина файла низкопиксельной картинки,
		srcset=2000w - ширина файла высокопиксельной картинки
</small></figcaption>
</figure>

<p>
    Для того, чтобы устройство определило, какую картинку следует загрузить,
		одной ширины изображения недостаточно.
		Устройство хочет знать, какой будет конечная ширина картинки.
		Здесь на помощь приходит атрибут sizes.
		Он определяет серию медиазапросов, а также ширину картинки, отображаемой при
		выполнении медиазапроса.
</p>

<figure>
<img class="pic-pages" src="./images/iih11-13-img-sizes-display-width-1f02b4.6d600f99.png"
width="60%" alt="Interneting is hard HTML+CSS">
<figcaption><small>
    Скриншот 13: sizes=100vw - ширина изображения в мобильном макете,
		sizes=960px - ширина изображения в десктопном макете
</small></figcaption>
</figure>

<p>
    Так, если ширина экрана составляет не менее 960px, то и картинка будет шириной
		960 пикселей.
		Иначе стандартное значение 100vw говорит браузеру, что ширина картинки будет
		равна 100% от "ширины области просмотра" (англ. viewport width - модный термин
		для обозначения ширины экрана).
		Подробнее о vw читайте на <a href="https://developer.mozilla.org/ru/docs/Web/CSS/length">
		сайте MDN</a>.
		Все это соответствует поведению изменения размера картинки в нашем CSS.
</p><p>
    Кстати, для правильного расположения нашего нового фото в заголовка нужно
		внести некоторые изменения.
		Добавьте оба следующих правила в наши другие базовые стили, прямо над
		медиазапросом мобильных стилей:
</p><p class="code">
<span class="code-blue">.header</span> {<br>
<span class="code-green">height</span>: auto;<br>
<span class="code-green">justify-content</span>: inherit;<br>
<span class="code-green">align-items</span>: inherit;<br>
}<br>
<br>
<span class="code-blue">.photo</span> <span class="code-strong">img</span> {<br>
<span class="code-green">width</span>: 100%;<br>
<span class="code-green">display</span>: block;<br>
}
</p><p>
    Помните, что ширина нашего фото низкого разрешения равна 1000 пикселей.
		Это означает, что устройства с ретина-экраном 2x могут использовать ее, если
		ширина их экрана не превышает 500 пикселей.
		В Firefox теперь можно изменять размер браузера, чтобы видеть версию ретина
		("Big") при ширине окна более 500 пикселей и версию без ретина ("Small") при
		меньшей ширине.
</p><p>
    Теперь мы передаем на мобильные устройства изображение размером 115 КБ вместо
		изображения высокого разрешения размером 445 КБ.
		Это особенно актуально для сайтов с большим количеством фотографий.
</p>

<div class="title-under">ТЕСТИРОВАНИЕ В БРАУЗЕРЕ ХРОМ<br>testing with chrome</div>
<p>
    Эта техника отлично работает в Chrome, но не до конца понятно, как это
		происходит.
		Chrome всегда использует картинку с высоким разрешением, если она уже была
		локально кэширована.
		Поэтому мы не сможем увидеть картинку с низким разрешением, просто заузив
		окно браузера.
		Чтобы избежать локального кэша браузера, сделайте следующее: открыв новое окно
		Incognito Window, <em>перед загрузкой страницы</em> сделайте окно очень узким.
		Так можно предотвратить загрузку photo-big.jpg.
</p>

<div class="title">&lt;picture&gt; как решение проблемы художественного оформления<br>
	art direction using &lt;picture&gt;
</div>
<p>
    Предыдущая секция вполне пригодна для оптимизации использования данных.
		На этом можно бы и остановиться, но ведь мы хотим стать более
		искусными и в "художественом оформлении".
		Считайте художественное оформление [art direction] оптимизацией адаптивных
		картинок для дизайнеров.
</p><p>
    Художественное оформление позволяет оптимизировать <em>макеты</em> [layouts], отправляя пользователю
		разные варианты в зависимости от его устройства.
		В предыдущей секции, <em>одну и ту же</em> фотографию мы оптимизировали для
		разных устройств.
		Причем эта фотография в заголовке довольно широка.
		Разве не было бы здорово вместо широкой версии для ноутбуков/ПК, несколько
		обрезать края для отображения ее на мобильных устройствах?
</p>

<figure>
<img class="pic-pages" src="./images/iih11-14-art-direction-with-picture-764252.12bc7cf2.png"
width="60%" alt="Interneting is hard HTML+CSS">
<figcaption><small>
    Скриншот 14: отображение фото, урезанного по высоте [tall-cropped] на мобильных
		устройствах и урезанного по ширине [wide-cropped] на ноутбуках/ПК с стандартными
		и ретина-экранами
</small></figcaption>
</figure>

<p>
    Для этого нам нужны элементы &lt;picture&gt; и &lt;source&gt;.
		Первый является просто оберткой, а второй условно загружает картинки на
		основе медиавыражений.
		Попробуйте изменить наш элемент .header:
</p><p class="code">
<span class="code-blue">&lt;div class=</span><span class="code-rust">'section header'</span><span class="code-blue">&gt;</span><br>
<span class="code-blue">&lt;div class=</span><span class="code-rust">'photo'</span><span class="code-blue">&gt;</span><br>
<span class="code-blue">&lt;picture&gt;</span><br>
<span class="code-blue">&lt;source media=</span><span class="code-rust">'(min-width: 401px)'<br>
<span class="code-blue">srcset=</span><span class="code-rust">'images/photo-big.jpg'</span><span class="code-blue"> /&gt;</span><br>
<span class="code-blue">&lt;source media=</span><span class="code-rust">'(max-width: 400px)'<br>
<span class="code-blue">srcset=</span><span class="code-rust">'images/photo-tall.jpg'</span><span class="code-blue"> /&gt;</span><br>
<span class="code-blue">&lt;img src=</span><span class="code-rust">'images/photo-small.jpg'</span><span class="code-blue"> /&gt;</span><br>
<span class="code-blue">&lt;/picture&gt;</span><br>
<span class="code-blue">&lt;/div&gt;</span><br>
<span class="code-blue">&lt;/div&gt;</span>
</p><p>
    По своей концепции это похоже на использование медиавыражений в CSS.
		В каждом элементе <source> атрибут media определяет, <em>когда</em> должна
		загружаться картинка, а srcset - <em>какой</em> файл должен быть загружен.
		Элемент &lt;img/&gt; используется только как запасной вариант для старых
		браузеров.
		Уменьшив окно браузера, вы сможете увидеть высокую версию фото:
</p>

<figure>
<img class="pic-pages" src="./images/iih11-15-art-directed-mobile-image-91ca9e.45c96f51.png"
width="50%" alt="Interneting is hard HTML+CSS">
<figcaption><small>
    Скриншот 15: в мобильной версии фото урезано по высоте, а в версии
		для ноутбуков/ПК - по ширине
</small></figcaption>
</figure>

<p>
    Такой уровень контроля очень обрадует вашего дизайнера.
		Однако есть и недостаток - браузер не может автоматически выбирать оптимальное
		изображение.
		То есть мы потеряли нашу оптимизацию для ретина-экранов из предыдущей
		cекции: до тех пор, пока ширина экрана составляет 401 пиксель или больше,
		браузер <em>всегда</em> будет использовать высокопиксельное изображение, урезанное
		по ширине [wide-cropped image].
</p><p>
    Пытаясь совместить лучшее из двух миров, все быстро усложняется.
		Мы рекомендуем придерживаться версий srcset 1x и 2x для картинок шириной
		менее 600 пикселей, использовать метод srcset плюс sizes из предыдущей секции
		для больших фотографий, а &lt;picture&gt; оставить для тех случаев, когда вместе
		с дизайнером вы задумаете что-то сногсшибательное.
</p>

<div class="title">РЕЗЮМЕ<br></div>
<p>
	  Адаптивные изображения могут показаться довольно сложными, но на самом деле мы
	  пытаемся решить всего две задачи:
</p><ul>
<li>Вписать изображение в мобильную версию сайта, "уважая" его размеры</li>
<li>Избежать отправки пользователю черезчур громоздких изображений</li>
</ul><p>
    Мы решили первую задачу, заставив изображения всегда растягиваться, чтобы
		заполнить 100% своего контейнера, и ограничив их размер с помощью встроенного
		стиля max-width.
		Чтобы решить вторую задачу, мы использовали srcset для оптимизации под разрешение
		экрана, srcset и sizes для оптимизации под ширину устройства и, наконец,
		элемент &lt;picture&gt; для ручного управления отображением файла изображения.
</p><p>
<a href="iih10-responsive-design.html">
    Адаптивный дизайн</a> - постоянно развивающаяся технология.
		Браузеры только недавно внедрили методы оптимизации изображений, рассмотренные
		выше. И это несмотря на то, что адаптивный дизайн является стандартом уже
		полдесятка лет.
		Технологии для создания адаптивного сайта могут меняться, однако фундаментальная
		проблема внешнего вида одного и того же контента на разных устройствах никогда
		не исчезнет.
		Со временем вам придется освоить новые инструменты, но базовые концепции из
		этого урока должны остаться с вами навсегда.
</p><p>
    Оставшиеся пять глав полностью посвящены верстке.
		Мы изучили плавающие элементы, flexbox, продвинутое позиционирование и то,
		как применять все эти концепции для экранов разной ширины.
		Это практически все, что вам когда-либо понадобится для верстки веб-страниц
		с помощью HTML и CSS.
		В следующей главе мы вернемся в мир HTML изучая множество новых элементов,
		которые сильно "порадуют" поисковые системы оптимизацией наших сайтов.
</p>



<section id="chapter-next">
<a href="iih12-semantic-html.html"
class="chapter-next">
    СЛЕДУЮЩИЙ УРОК ></a>
</section>
<br><br>
</div>
</body>
</html>
